<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>ODPI-C Structure dpiPoolCreateParams &#8212; ODPI-C v4.6.1</title>
    
    <link rel="stylesheet" href="../_static/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/theme.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="ODPI-C v4.6.1" href="../index.html" />
    <link rel="up" title="ODPI-C Structures" href="index.html" />
    <link rel="next" title="ODPI-C Structure dpiQueryInfo" href="dpiQueryInfo.html" />
    <link rel="prev" title="ODPI-C Structure dpiObjectTypeInfo" href="dpiObjectTypeInfo.html" /> 
  </head>
  <body role="document">
<div class="header">
<a href="https://oracle.github.io/odpi/doc">Doc Home</a>
</div>


    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
             <section id="odpi-c-structure-dpipoolcreateparams">
<span id="dpipoolcreateparams"></span><h1>ODPI-C Structure dpiPoolCreateParams<a class="headerlink" href="#odpi-c-structure-dpipoolcreateparams" title="Permalink to this heading">¶</a></h1>
<p>This structure is used for creating session pools, which can in turn be used to
create connections that are acquired from that session pool. All members are
initialized to default values using the
<a class="reference internal" href="../functions/dpiContext.html#c.dpiContext_initPoolCreateParams" title="dpiContext_initPoolCreateParams"><code class="xref c c-func docutils literal notranslate"><span class="pre">dpiContext_initPoolCreateParams()</span></code></a> function.</p>
<dl class="c member">
<dt class="sig sig-object c" id="c.dpiPoolCreateParams.minSessions">
<span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">dpiPoolCreateParams</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">minSessions</span></span></span><a class="headerlink" href="#c.dpiPoolCreateParams.minSessions" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Specifies the minimum number of sessions to be created by the session pool.
This value is ignored if the <a class="reference internal" href="#c.dpiPoolCreateParams.homogeneous" title="dpiPoolCreateParams.homogeneous"><code class="xref c c-member docutils literal notranslate"><span class="pre">dpiPoolCreateParams.homogeneous</span></code></a>
member has a value of 0. The default value is 1.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.dpiPoolCreateParams.maxSessions">
<span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">dpiPoolCreateParams</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">maxSessions</span></span></span><a class="headerlink" href="#c.dpiPoolCreateParams.maxSessions" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Specifies the maximum number of sessions that can be created by the session
pool. Values of 1 and higher are acceptable. The default value is 1.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.dpiPoolCreateParams.sessionIncrement">
<span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">dpiPoolCreateParams</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">sessionIncrement</span></span></span><a class="headerlink" href="#c.dpiPoolCreateParams.sessionIncrement" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Specifies the number of sessions that will be created by the session pool
when more sessions are required and the number of sessions is less than
the maximum allowed. This value is ignored if the
<a class="reference internal" href="#c.dpiPoolCreateParams.homogeneous" title="dpiPoolCreateParams.homogeneous"><code class="xref c c-member docutils literal notranslate"><span class="pre">dpiPoolCreateParams.homogeneous</span></code></a> member has a value of 0. This
value added to the <a class="reference internal" href="#c.dpiPoolCreateParams.minSessions" title="dpiPoolCreateParams.minSessions"><code class="xref c c-member docutils literal notranslate"><span class="pre">dpiPoolCreateParams.minSessions</span></code></a> member value
must not exceed the <a class="reference internal" href="#c.dpiPoolCreateParams.maxSessions" title="dpiPoolCreateParams.maxSessions"><code class="xref c c-member docutils literal notranslate"><span class="pre">dpiPoolCreateParams.maxSessions</span></code></a> member value.
The default value is 0.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.dpiPoolCreateParams.pingInterval">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">dpiPoolCreateParams</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">pingInterval</span></span></span><a class="headerlink" href="#c.dpiPoolCreateParams.pingInterval" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Specifies the number of seconds since a connection has last been used
before a ping will be performed to verify that the connection is still
valid. A negative value disables this check. The default value is 60.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.dpiPoolCreateParams.pingTimeout">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">dpiPoolCreateParams</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">pingTimeout</span></span></span><a class="headerlink" href="#c.dpiPoolCreateParams.pingTimeout" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Specifies the number of milliseconds to wait when performing a ping to
verify the connection is still valid before the connection is considered
invalid and is dropped. The default value is 5000 (5 seconds).</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.dpiPoolCreateParams.homogeneous">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">dpiPoolCreateParams</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">homogeneous</span></span></span><a class="headerlink" href="#c.dpiPoolCreateParams.homogeneous" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Specifies whether the pool is homogeneous or not. In a homogeneous pool all
connections use the same credentials whereas in a heterogeneous pool other
credentials are permitted. The default value is 1.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.dpiPoolCreateParams.externalAuth">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">dpiPoolCreateParams</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">externalAuth</span></span></span><a class="headerlink" href="#c.dpiPoolCreateParams.externalAuth" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Specifies whether external authentication should be used to create the
sessions in the pool. If this value is 0, the user name and password values
must be specified in the call to <a class="reference internal" href="../functions/dpiPool.html#c.dpiPool_create" title="dpiPool_create"><code class="xref c c-func docutils literal notranslate"><span class="pre">dpiPool_create()</span></code></a>; otherwise, the
user name and password values must be zero length or NULL. The default
value is 0. External authentication cannot be used with homogeneous pools.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.dpiPoolCreateParams.getMode">
<span class="n"><span class="pre">dpiPoolGetMode</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">dpiPoolCreateParams</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">getMode</span></span></span><a class="headerlink" href="#c.dpiPoolCreateParams.getMode" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Specifies the mode to use when sessions are acquired from the pool. It is
expected to be one of the values from the enumeration
<a class="reference internal" href="../enums/dpiPoolGetMode.html#dpipoolgetmode"><span class="std std-ref">dpiPoolGetMode</span></a>. The default value is
DPI_MODE_POOL_GET_NOWAIT. This value can be set after the pool has been
created using the function <a class="reference internal" href="../functions/dpiPool.html#c.dpiPool_setGetMode" title="dpiPool_setGetMode"><code class="xref c c-func docutils literal notranslate"><span class="pre">dpiPool_setGetMode()</span></code></a> and acquired using
the function <a class="reference internal" href="../functions/dpiPool.html#c.dpiPool_getGetMode" title="dpiPool_getGetMode"><code class="xref c c-func docutils literal notranslate"><span class="pre">dpiPool_getGetMode()</span></code></a>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.dpiPoolCreateParams.outPoolName">
<span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-prename descclassname"><span class="n"><span class="pre">dpiPoolCreateParams</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">outPoolName</span></span></span><a class="headerlink" href="#c.dpiPoolCreateParams.outPoolName" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This member is populated upon successful creation of a pool using the
function <a class="reference internal" href="../functions/dpiPool.html#c.dpiPool_create" title="dpiPool_create"><code class="xref c c-func docutils literal notranslate"><span class="pre">dpiPool_create()</span></code></a>. It is a byte string in the encoding
used for CHAR data. Any value specified prior to creating the session pool
is ignored.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.dpiPoolCreateParams.outPoolNameLength">
<span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">dpiPoolCreateParams</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">outPoolNameLength</span></span></span><a class="headerlink" href="#c.dpiPoolCreateParams.outPoolNameLength" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This member is populated upon successful creation of a pool using the
function <a class="reference internal" href="../functions/dpiPool.html#c.dpiPool_create" title="dpiPool_create"><code class="xref c c-func docutils literal notranslate"><span class="pre">dpiPool_create()</span></code></a>. It is the length of the
<a class="reference internal" href="#c.dpiPoolCreateParams.outPoolName" title="dpiPoolCreateParams.outPoolName"><code class="xref c c-member docutils literal notranslate"><span class="pre">dpiPoolCreateParams.outPoolName</span></code></a> member, in bytes. Any value
specified prior to creating the session pool is ignored.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.dpiPoolCreateParams.timeout">
<span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">dpiPoolCreateParams</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">timeout</span></span></span><a class="headerlink" href="#c.dpiPoolCreateParams.timeout" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Specifies the length of time (in seconds) after which idle sessions in the
pool are terminated. Note that termination only occurs when the pool is
accessed. The default value is 0 which means that no idle sessions are
terminated. This value can be set after the pool has been created using the
function <a class="reference internal" href="../functions/dpiPool.html#c.dpiPool_setTimeout" title="dpiPool_setTimeout"><code class="xref c c-func docutils literal notranslate"><span class="pre">dpiPool_setTimeout()</span></code></a> and acquired using the function
<a class="reference internal" href="../functions/dpiPool.html#c.dpiPool_getTimeout" title="dpiPool_getTimeout"><code class="xref c c-func docutils literal notranslate"><span class="pre">dpiPool_getTimeout()</span></code></a>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.dpiPoolCreateParams.waitTimeout">
<span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">dpiPoolCreateParams</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">waitTimeout</span></span></span><a class="headerlink" href="#c.dpiPoolCreateParams.waitTimeout" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Specifies the length of time (in milliseconds) that the caller should wait
for a session to become available in the pool before returning with an
error. This value is only used if the
<a class="reference internal" href="#c.dpiPoolCreateParams.getMode" title="dpiPoolCreateParams.getMode"><code class="xref c c-member docutils literal notranslate"><span class="pre">dpiPoolCreateParams.getMode</span></code></a> member is set to the value
DPI_MODE_POOL_GET_TIMEDWAIT. The default value is 0. This value can be set
after the pool has been created using the function
<a class="reference internal" href="../functions/dpiPool.html#c.dpiPool_setWaitTimeout" title="dpiPool_setWaitTimeout"><code class="xref c c-func docutils literal notranslate"><span class="pre">dpiPool_setWaitTimeout()</span></code></a> and acquired using the function
<a class="reference internal" href="../functions/dpiPool.html#c.dpiPool_getWaitTimeout" title="dpiPool_getWaitTimeout"><code class="xref c c-func docutils literal notranslate"><span class="pre">dpiPool_getWaitTimeout()</span></code></a>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.dpiPoolCreateParams.maxLifetimeSession">
<span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">dpiPoolCreateParams</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">maxLifetimeSession</span></span></span><a class="headerlink" href="#c.dpiPoolCreateParams.maxLifetimeSession" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Specifies the maximum length of time (in seconds) a pooled session may
exist. Sessions in use will not be closed. They become candidates for
termination only when they are released back to the pool and have existed
for longer than maxLifetimeSession seconds. Session termination only occurs
when the pool is accessed. The default value is 0 which means that there is
no maximum length of time that a pooled session may exist. This value can
be set after the pool has been created using the function
<a class="reference internal" href="../functions/dpiPool.html#c.dpiPool_setMaxLifetimeSession" title="dpiPool_setMaxLifetimeSession"><code class="xref c c-func docutils literal notranslate"><span class="pre">dpiPool_setMaxLifetimeSession()</span></code></a> and acquired using the function
<a class="reference internal" href="../functions/dpiPool.html#c.dpiPool_getMaxLifetimeSession" title="dpiPool_getMaxLifetimeSession"><code class="xref c c-func docutils literal notranslate"><span class="pre">dpiPool_getMaxLifetimeSession()</span></code></a>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.dpiPoolCreateParams.plsqlFixupCallback">
<span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-prename descclassname"><span class="n"><span class="pre">dpiPoolCreateParams</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">plsqlFixupCallback</span></span></span><a class="headerlink" href="#c.dpiPoolCreateParams.plsqlFixupCallback" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Specifies the name of a PL/SQL procedure in the format
<em>schema.package.callback_proc</em> which will be called when a session is
checked out from the pool and the requested tag doesn’t match the actual
tag assigned to the session. The procedure accepts the desired
and actual tags as parameters and it is the responsibility of the procedure
to ensure that the session matches the desired state upon completion. See
the <a class="reference external" href="https://www.oracle.com/pls/topic/lookup?ctx=dblatest&amp;id=GUID-B853A020-752F-494A-8D88-D0396EF57177">OCI documentation</a> for more
information. The value is expected to be a byte string in the encoding used
for CHAR data. This functionality is only available when Oracle Client
is at version 12.2 and higher.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.dpiPoolCreateParams.plsqlFixupCallbackLength">
<span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">dpiPoolCreateParams</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">plsqlFixupCallbackLength</span></span></span><a class="headerlink" href="#c.dpiPoolCreateParams.plsqlFixupCallbackLength" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Specifies the length of the PL/SQL fixup callback, in bytes.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.dpiPoolCreateParams.maxSessionsPerShard">
<span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">dpiPoolCreateParams</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">maxSessionsPerShard</span></span></span><a class="headerlink" href="#c.dpiPoolCreateParams.maxSessionsPerShard" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Specifies the maximum number of sessions that can be created by the session
pool for each shard in a sharded database. Set this attribute to a value
other than zero to ensure that the pool is balanced towards each shard. A
value of zero will not set any maximum number of sessions for each shard.
If the Oracle client library version is less than 18.3, this value is
ignored.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.dpiPoolCreateParams.accessTokenCallback">
<span class="n"><span class="pre">dpiAccessTokenCallback</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">dpiPoolCreateParams</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">accessTokenCallback</span></span></span><a class="headerlink" href="#c.dpiPoolCreateParams.accessTokenCallback" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The callback function which will get called by the connection pool if the
pool needs to expand and create new connections but the current
authentication token has expired.</p>
<p>The function should get a new authentication token and then set
<a class="reference internal" href="dpiAccessToken.html#c.dpiAccessToken.token" title="dpiAccessToken.token"><code class="xref c c-member docutils literal notranslate"><span class="pre">dpiAccessToken.token</span></code></a> and <a class="reference internal" href="dpiAccessToken.html#c.dpiAccessToken.privateKey" title="dpiAccessToken.privateKey"><code class="xref c c-member docutils literal notranslate"><span class="pre">dpiAccessToken.privateKey</span></code></a>
in the accessToken argument. The authentication token can be generated by
invoking the Oracle Cloud Infrastructure (OCI) Command Line Interface
(CLI).</p>
<p>The function should return DPI_SUCCESS for success and DPI_FAILURE
for failure. Returning DPI_FAILURE will cause the connection to fail
and return ORA-01017 to the application.</p>
<p>The callback accepts the following arguments:</p>
<blockquote>
<div><p><strong>context</strong> – the value of the
<a class="reference internal" href="#c.dpiPoolCreateParams.accessTokenCallbackContext" title="dpiPoolCreateParams.accessTokenCallbackContext"><code class="xref c c-member docutils literal notranslate"><span class="pre">dpiPoolCreateParams.accessTokenCallbackContext</span></code></a> member.</p>
<p><strong>accessToken</strong> – a pointer to the structure
<a class="reference internal" href="dpiAccessToken.html#dpiaccesstoken"><span class="std std-ref">dpiAccessToken</span></a>.</p>
</div></blockquote>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.dpiPoolCreateParams.accessTokenCallbackContext">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-prename descclassname"><span class="n"><span class="pre">dpiPoolCreateParams</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">accessTokenCallbackContext</span></span></span><a class="headerlink" href="#c.dpiPoolCreateParams.accessTokenCallbackContext" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Specifies the value that will be used as the first argument to the callback
specified in the <a class="reference internal" href="#c.dpiPoolCreateParams.accessTokenCallback" title="dpiPoolCreateParams.accessTokenCallback"><code class="xref c c-member docutils literal notranslate"><span class="pre">dpiPoolCreateParams.accessTokenCallback</span></code></a>
member. The default value is NULL.</p>
</dd></dl>

</section>
 
          </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
      &#169; Copyright 2016, 2022, Oracle and/or its affiliates. All rights reserved.
    </div>
  </body>
</html>