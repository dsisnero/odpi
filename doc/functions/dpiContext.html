<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ODPI-C Context Functions &#8212; ODPI-C v4.4.0</title>
    
    <link rel="stylesheet" href="../_static/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/theme.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="ODPI-C v4.4.0" href="../index.html" />
    <link rel="up" title="ODPI-C Functions" href="index.html" />
    <link rel="next" title="ODPI-C Data Functions" href="dpiData.html" />
    <link rel="prev" title="ODPI-C Connection Functions" href="dpiConn.html" /> 
  </head>
  <body role="document">
<div class="header">
<a href="https://oracle.github.io/odpi/doc">Doc Home</a>
</div>


    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
             <div class="section" id="odpi-c-context-functions">
<span id="dpicontextfunctions"></span><h1>ODPI-C Context Functions<a class="headerlink" href="#odpi-c-context-functions" title="Permalink to this headline">¶</a></h1>
<p>Context handles are the top level handles created by the library and are used
for all error handling as well as creating pools and standalone connections to
the database. The first call to ODPI-C by any application must be
<a class="reference internal" href="#c.dpiContext_createWithParams" title="dpiContext_createWithParams"><code class="xref c c-func docutils literal notranslate"><span class="pre">dpiContext_createWithParams()</span></code></a> which will create the context as well as
validate the version used by the application. Context handles are destroyed by
using the function <a class="reference internal" href="#c.dpiContext_destroy" title="dpiContext_destroy"><code class="xref c c-func docutils literal notranslate"><span class="pre">dpiContext_destroy()</span></code></a>.</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.dpiContext_createWithParams">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dpiContext_createWithParams</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">unsigned</span> <span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">majorVersion</span></span>, <span class="kt"><span class="pre">unsigned</span> <span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">minorVersion</span></span>, <span class="n"><span class="pre">dpiContextCreateParams</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">params</span></span>, <span class="n"><span class="pre">dpiContext</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">context</span></span>, <span class="n"><span class="pre">dpiErrorInfo</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">errorInfo</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dpiContext_createWithParams" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Creates a new context for interaction with the library. This is the first
function that must be called and it must have completed successfully before
any other functions can be called, including in other threads.</p>
<p>The function returns DPI_SUCCESS for success and DPI_FAILURE for failure.
If a failure occurs, the errorInfo structure is filled in with error
information.</p>
<p><em>NOTE</em>: The function dpiContext_create() was replaced by a macro in version
4 which calls this function with params set to the value NULL.</p>
<p><strong>majorVersion</strong> [IN] – the major version of the ODPI-C library that is
being used by the application. This should always be the constant value
DPI_MAJOR_VERSION defined in the dpi.h being used by the application. It
must match the major version of the ODPI-C library that is being linked to
the application.</p>
<p><strong>minorVersion</strong> [IN] – the minor version of the ODPI-C library that is
being used by the application. This should always be the constant value
DPI_MINOR_VERSION defined in the dpi.h being used by the application. It
must be less than or equal to the minor version of the ODPI-C library that
is being linked to the application.</p>
<p><strong>params</strong> [IN] – a pointer to a
<a class="reference internal" href="../structs/dpiContextCreateParams.html#dpicontextcreateparams"><span class="std std-ref">dpiContextCreateParams</span></a> structure containing
parameters used to modify how ODPI-C loads the Oracle Client library.
Although it is possible to create multiple contexts, only the first context
created will use these parameters. This value can also be NULL in which
case default parameters will be used.</p>
<p><strong>context</strong> [OUT] – a pointer to a context handle which will be populated
upon successful completion of this function.</p>
<p><strong>errorInfo</strong> [OUT] – a pointer to a <a class="reference internal" href="../structs/dpiErrorInfo.html#dpierrorinfo"><span class="std std-ref">dpiErrorInfo</span></a>
structure which will be populated with error information if an error takes
place during the execution of this function. If no error takes place, the
structure is not modified in any way. Note that the only members of the
structure that should be examined when an error occurs are message,
messageLength, encoding, fnName and action.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.dpiContext_destroy">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dpiContext_destroy</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">dpiContext</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">context</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dpiContext_destroy" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Destroys the context that was earlier created with the function
<a class="reference internal" href="#c.dpiContext_createWithParams" title="dpiContext_createWithParams"><code class="xref c c-func docutils literal notranslate"><span class="pre">dpiContext_createWithParams()</span></code></a>.</p>
<p>The function returns DPI_SUCCESS for success and DPI_FAILURE for failure.</p>
<p><strong>context</strong> [IN] – the context handle which should be destroyed. If the
handle is NULL or invalid, an error is returned.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.dpiContext_getClientVersion">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dpiContext_getClientVersion</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">dpiContext</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">context</span></span>, <span class="n"><span class="pre">dpiVersionInfo</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">versionInfo</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dpiContext_getClientVersion" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Return information about the version of the Oracle Client that is being
used.</p>
<p>The function returns DPI_SUCCESS for success and DPI_FAILURE for failure.</p>
<p><strong>context</strong> [IN] – the context handle created earlier using the function
<a class="reference internal" href="#c.dpiContext_createWithParams" title="dpiContext_createWithParams"><code class="xref c c-func docutils literal notranslate"><span class="pre">dpiContext_createWithParams()</span></code></a>. If the handle is NULL or invalid, an
error is returned.</p>
<p><strong>versionInfo</strong> [OUT] – a pointer to a
<a class="reference internal" href="../structs/dpiVersionInfo.html#dpiversioninfo"><span class="std std-ref">dpiVersionInfo</span></a> structure which will be populated
with the version information of the Oracle Client being used.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.dpiContext_getError">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dpiContext_getError</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">dpiContext</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">context</span></span>, <span class="n"><span class="pre">dpiErrorInfo</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">errorInfo</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dpiContext_getError" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns information for the last error or warning that was raised by the
library. This function must be called with the same thread that generated
the error or warning. It must also be called before any other ODPI-C
library calls are made on the calling thread since the error/warning
information specific to that thread is cleared at the start of every ODPI-C
function call.</p>
<p><strong>context</strong> [IN] – the context handle created earlier using the function
<a class="reference internal" href="#c.dpiContext_createWithParams" title="dpiContext_createWithParams"><code class="xref c c-func docutils literal notranslate"><span class="pre">dpiContext_createWithParams()</span></code></a>. If the handle is NULL or invalid,
the error information is populated with an invalid context handle error
instead.</p>
<p><strong>errorInfo</strong> [OUT] – a pointer to a <a class="reference internal" href="../structs/dpiErrorInfo.html#dpierrorinfo"><span class="std std-ref">dpiErrorInfo</span></a>
structure which will be populated with information about the last error
or warning that was raised. If a warning was raised, the
<a class="reference internal" href="../structs/dpiErrorInfo.html#c.dpiErrorInfo.isWarning" title="dpiErrorInfo.isWarning"><code class="xref c c-member docutils literal notranslate"><span class="pre">dpiErrorInfo.isWarning</span></code></a> flag will be set to the value 1.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.dpiContext_initCommonCreateParams">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dpiContext_initCommonCreateParams</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">dpiContext</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">context</span></span>, <span class="n"><span class="pre">dpiContextParams</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">params</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dpiContext_initCommonCreateParams" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initializes the <a class="reference internal" href="../structs/dpiCommonCreateParams.html#dpicommoncreateparams"><span class="std std-ref">dpiCommonCreateParams</span></a>
structure to default values.</p>
<p>The function returns DPI_SUCCESS for success and DPI_FAILURE for failure.</p>
<dl class="simple">
<dt><strong>context</strong> [IN] – the context handle created earlier using the function</dt><dd><p><a class="reference internal" href="#c.dpiContext_createWithParams" title="dpiContext_createWithParams"><code class="xref c c-func docutils literal notranslate"><span class="pre">dpiContext_createWithParams()</span></code></a>. If the handle is NULL or invalid,
an error is returned.</p>
</dd>
</dl>
<p><strong>params</strong> [OUT] – a pointer to a
<a class="reference internal" href="../structs/dpiCommonCreateParams.html#dpicommoncreateparams"><span class="std std-ref">dpiCommonCreateParams</span></a> structure which will be
populated with default values upon completion of this function.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.dpiContext_initConnCreateParams">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dpiContext_initConnCreateParams</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">dpiContext</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">context</span></span>, <span class="n"><span class="pre">dpiConnCreateParams</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">params</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dpiContext_initConnCreateParams" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initializes the <a class="reference internal" href="../structs/dpiConnCreateParams.html#dpiconncreateparams"><span class="std std-ref">dpiConnCreateParams</span></a> structure
to default values.</p>
<p>The function returns DPI_SUCCESS for success and DPI_FAILURE for failure.</p>
<p><strong>context</strong> [IN] – the context handle created earlier using the function
<a class="reference internal" href="#c.dpiContext_createWithParams" title="dpiContext_createWithParams"><code class="xref c c-func docutils literal notranslate"><span class="pre">dpiContext_createWithParams()</span></code></a>. If the handle is NULL or invalid, an
error is returned.</p>
<p><strong>params</strong> [OUT] – a pointer to a
<a class="reference internal" href="../structs/dpiConnCreateParams.html#dpiconncreateparams"><span class="std std-ref">dpiConnCreateParams</span></a> structure which will be
populated with default values upon completion of this function.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.dpiContext_initPoolCreateParams">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dpiContext_initPoolCreateParams</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">dpiContext</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">context</span></span>, <span class="n"><span class="pre">dpiPoolCreateParams</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">params</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dpiContext_initPoolCreateParams" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initializes the <a class="reference internal" href="../structs/dpiPoolCreateParams.html#dpipoolcreateparams"><span class="std std-ref">dpiPoolCreateParams</span></a> structure
to default values.</p>
<p>The function returns DPI_SUCCESS for success and DPI_FAILURE for failure.</p>
<p><strong>context</strong> [IN] – the context handle created earlier using the function
<a class="reference internal" href="#c.dpiContext_createWithParams" title="dpiContext_createWithParams"><code class="xref c c-func docutils literal notranslate"><span class="pre">dpiContext_createWithParams()</span></code></a>. If the handle is NULL or invalid, an
error is returned.</p>
<p><strong>params</strong> [OUT] – a pointer to a
<a class="reference internal" href="../structs/dpiPoolCreateParams.html#dpipoolcreateparams"><span class="std std-ref">dpiPoolCreateParams</span></a> structure which will be
populated with default values upon completion of this function.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.dpiContext_initSodaOperOptions">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dpiContext_initSodaOperOptions</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">dpiContext</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">context</span></span>, <span class="n"><span class="pre">dpiSodaOperOptions</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">options</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dpiContext_initSodaOperOptions" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initializes the <a class="reference internal" href="../structs/dpiSodaOperOptions.html#dpisodaoperoptions"><span class="std std-ref">dpiSodaOperOptions</span></a>
structure to default values.</p>
<p>The function returns DPI_SUCCESS for success and DPI_FAILURE for failure.</p>
<p><strong>context</strong> [IN] – the context handle created earlier using the function
<a class="reference internal" href="#c.dpiContext_createWithParams" title="dpiContext_createWithParams"><code class="xref c c-func docutils literal notranslate"><span class="pre">dpiContext_createWithParams()</span></code></a>. If the handle is NULL or invalid, an
error is returned.</p>
<p><strong>options</strong> [OUT] – a pointer to a
<a class="reference internal" href="../structs/dpiSodaOperOptions.html#dpisodaoperoptions"><span class="std std-ref">dpiSodaOperOptions</span></a> structure which will be
populated with default values upon completion of this function.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.dpiContext_initSubscrCreateParams">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dpiContext_initSubscrCreateParams</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">dpiContext</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">context</span></span>, <span class="n"><span class="pre">dpiSubscrCreateParams</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">params</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dpiContext_initSubscrCreateParams" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initializes the <a class="reference internal" href="../structs/dpiSubscrCreateParams.html#dpisubscrcreateparams"><span class="std std-ref">dpiSubscrCreateParams</span></a>
structure to default values.</p>
<p>The function returns DPI_SUCCESS for success and DPI_FAILURE for failure.</p>
<p><strong>context</strong> [IN] – the context handle created earlier using the function
<a class="reference internal" href="#c.dpiContext_createWithParams" title="dpiContext_createWithParams"><code class="xref c c-func docutils literal notranslate"><span class="pre">dpiContext_createWithParams()</span></code></a>. If the handle is NULL or invalid, an
error is returned.</p>
<p><strong>params</strong> [OUT] – a pointer to a
<a class="reference internal" href="../structs/dpiSubscrCreateParams.html#dpisubscrcreateparams"><span class="std std-ref">dpiSubscrCreateParams</span></a> structure which will be
populated with default values upon completion of this function.</p>
</dd></dl>

</div>
 
          </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
      &#169; Copyright 2016, 2022, Oracle and/or its affiliates. All rights reserved.
    </div>
  </body>
</html>